/* ========================================================================
 * jquery-circle - v0.0.1
 * 
 * ========================================================================
 * Copyright 2012-2013 
 *
 * ========================================================================
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================================
 */

(function(){var a=[].slice;!function(b){var c;return c=function(){function a(a,c){this.options=b.extend({},this.defaults,c),this.$element=b(a),this.$value=b("<div>",{"class":"value"},this.$slice=b("<div>",{"class":"slice"})),this.$first=b("<div>",{"class":"first"}),this.$second=b("<div>",{"class":"second"}),this.$element.addClass("circle"),this._isMoreHalf()&&this.$element.addClass("fifty"),this.$element.is(":empty")||(this.options.value=this.$element.text(),this.$element.empty()),this.$first.add(this.$second).css(this._getSize()),this.options.text&&this.$value.text(this.options.value),this.$element.append(this.$value,this.$slice.append(this.$first,this.$second)),this.$first.css(this._getTransform()),this.$element}return a.prototype.defaults={value:0,min:0,max:100,step:1,width:10,text:!0,animate:!0},a.prototype.value=function(a){var b;return null==a?this.options.value:(this.options.value=a,b=this._getDegrees(a),this.$element[this._isMoreHalf()?"addClass":"removeClass"]("fifty"),this.$first.css(this._getTransform()),this.options.text&&this.$value.text(a),this.$element)},a.prototype.destroy=function(){return this.$value.remove(),this.$slice.remove(),this.$element.removeClass("circle fifty")},a.prototype._getTransform=function(){var a;return a=this._getDegrees(this.options.value),{"-webkit-transform":"rotate("+a+"deg)","-ms-transform":"rotate("+a+"deg)",transform:"rotate("+a+"deg)"}},a.prototype._getSize=function(){return{"border-width":""+this.options.width/100+"em"}},a.prototype._getDegrees=function(a){return 3.6*a},a.prototype._isMoreHalf=function(){return this.options.value>this.options.max/2},a}(),b.fn.extend({circle:function(){var d,e;return e=arguments[0],d=2<=arguments.length?a.call(arguments,1):[],this.each(function(){var a,f;return a=b(this),f=a.data("circle"),f||a.data("circle",f=new c(this,e)),f[e]?f[e].apply(f,d):void 0})}})}(window.jQuery,window)}).call(this);